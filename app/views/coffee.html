<script src='../vendor/skycons.js'></script>

<div class="raspi-app">
  <div class="info-bar">
  <span class="time" ng-click="vm.reload()">
        {{ vm.currentTime }}
    </span>

  <div class="weather-widget">
    <canvas id="weather_icon"></canvas> {{ vm.temp | number: 0 }}° {{ vm.summary }}
  </div>

</div>

  <!-- <div class="weather-pane" style="{{ vm.bgGradient }}">

        <div class="weather-icon">
            <img ng-src="{{ vm.icon }}" />
        </div>

        <div class="temp" style="{{ vm.color }}">{{ vm.temp | number: 0 }}°</div>
        <div class="condition" style="{{ vm.color }}">{{ vm.summary }}</div>

    </div> -->

  <div class="coffee-pane">
    <div class="gram-slider">
      <rzslider rz-slider-model="vm.gramSlider.value" rz-slider-options="vm.gramSlider.options" class="with-legend"></rzslider>
      <div class="grams">{{ vm.sliderValue }}g</div>
    </div>

    <div class="step">
      <div class="title">
        <h3>Bloom: {{ vm.bloomGrams }}g</h3>
        <div class="progress-bar">
          <div class="percent-bar" style='width: {{ vm.percentBloom }}%'></div>
        </div>
      </div>
      <div class="timer">
        {{ vm.bloomCounter | secondsToDateTime | date: 'mm:ss' }}
      </div>
    </div>

    <div class="step">
      <div class="title">
        <h3>Pour: {{ vm.halfPour }}g, {{ vm.pourGrams }}g</h3>
        <div class="progress-bar">
          <div class="percent-bar" style='width: {{ vm.percentPour }}%'></div>
        </div>
      </div>
      <div class="timer">
        {{vm.pourCounter | secondsToDateTime | date: 'mm:ss'}}
      </div>
    </div>



    <button ng-click="vm.startBloomTimer()" class="btn btn-lg btn-primary" ng-disabled="vm.isDisabled">{{ vm.isDisabled ? "Currently Brewing" : "Begin Pour Over" }}</button>
    <button ng-click="vm.stopTimer()" class="btn btn-lg btn-primary btn-reset" ng-if="vm.isDisabled">Reset</button>

  </div>
</div>
