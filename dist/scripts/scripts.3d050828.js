"use strict";angular.module("desktopApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}]),angular.module("desktopApp").controller("MainCtrl",["$firebaseObject",function(a){var b=new Firebase("https://sweltering-fire-7706.firebaseio.com"),c=this;c.profile=a(b);var d=a(b);d.$loaded().then(function(a){var b=a.lifeWeeks;c.weeks=[];var d=Date.UTC(1989,8,18),e=6048e5,f=Date.UTC(2089,8,19);c.mathFloor=Math.floor;for(var g=[],h=d;f>=h;h+=e)g.push(h);c.weeks=g.map(function(a,b){return{id:b,date:a,type:"",description:"","class":[b],template:"views/templates/general.tpl.html",value:""}});for(var i=new Date,j=i.getMonth(),k=i.getDate()-i.getDay()+1,l=i.getYear()+1900,m=Date.UTC(l,j,k),h=0;h<c.weeks.length;h++)m>c.weeks[h].date?c.weeks[h]["class"].push("past"):m===c.weeks[h].date?(c.weeks[h]["class"].push("thisWeek"),c.weeks[h].description="This week."):c.weeks[h]["class"].push("future");for(var h=0;h<b.birthdayWeeks.length;h++)c.weeks[b.birthdayWeeks[h]]["class"].push("birthday"),c.weeks[b.birthdayWeeks[h]].value=h,c.weeks[b.birthdayWeeks[h]].template="views/templates/birthday.tpl.html";var n=new Date(1989,9,21),o=new Date,p=Math.floor((o-n)/864e5),q=p/365.25;c.myAge=Math.floor(q);for(var h=4123;h<c.weeks.length;h++)c.weeks[h]["class"].push("after-life");b.events.map(function(a){c.weeks[a.id]["class"].push(a["class"]),c.weeks[a.id].description=a.description})})}]),angular.module("desktopApp").run(["$templateCache",function(a){a.put("views/main.html",'<div ng-controller="MainCtrl as vm" class="main"> <img class="avatar" ng-src="{{vm.profile.avatar}}"> <h1>{{vm.profile.name}}</h1> <div ng-repeat="job in vm.profile.work"> <p>{{job.position}} <a href="{{job.url}}" target="new">{{job.organization}}</a></p>  </div> <p>Maker of <span ng-repeat="project in vm.profile.projects" class="project"> <a ng-href="{{ project.url }}" target="new">{{ project.name }}</a> </span> <div class="social-media"> <ul> <li ng-repeat="key in vm.profile.socialIcons"> <a href="{{key.url}}" target="new"><i class="fa fa-lg social-media-icon" ng-class="key.icon"></i></a> </li> </ul> </div> <h4>Life in weeks</h4> <div class="all-weeks"> <div ng-repeat="week in vm.weeks" class="week-wrapper"> <div class="sq" ng-class="{{week.class}}" uib-popover-template="week.template" popover-trigger="mouseenter"></div> </div> </div> <div class="clearfix"></div> </p></div>'),a.put("views/templates/birthday.tpl.html",'<div> {{ week.date | date:\'MMM yyyy\' }} <span ng-if="vm.mathFloor($index / 52) === 0"> <br>I was born! </span> <span ng-if="vm.mathFloor($index / 52) !== 0 && vm.mathFloor($index / 52) <= vm.myAge"> <br>I turned {{ vm.mathFloor($index / 52) }}. </span> <span ng-if="vm.mathFloor($index / 52) !== 0 && vm.mathFloor($index / 52) > vm.myAge"> <br>I will turn {{ vm.mathFloor($index / 52) }}. <span ng-if="week.description"> <br>{{ week.description }} </span> </span> </div>'),a.put("views/templates/general.tpl.html","<div> {{ week.date | date:'MMM yyyy' }}<br> {{ week.description }} </div>")}]);